{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport { projectStorage, projectFirestore, timestamp } from \"../firebase/config\"; // const useStorage = (file) => {\n//   const [progress, setProgress] = useState(0);\n//   const [error, setError] = useState(null);\n//   const [url, setUrl] = useState(null);\n//   useEffect(() => {\n//     const storageRef = projectStorage.ref(file.name);\n//     const collectionRef = projectFirestore.collection('images')\n//     storageRef.put(file).on(\"state_changed\",(snap) => {\n//       let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n//       setProgress(percentage);\n//       }, (error) => {\n//         setError(error);\n//       }, async () => {\n//         const url = await storageRef.getDownloadURL();\n//         collectionRef.add({url: url, createdAt: timestamp});\n//         setUrl(url);\n//       }\n//       // }, () => {\n//       //   // Upload completed successfully, now we can get the download URL\n//       //    const url = storageRef.getDownloadURL().then(function(downloadURL) {\n//       //     console.log('File available at', downloadURL);\n//       //     setUrl(url);\n//       //   });\n//       // }\n//     );\n//   }, [file]);\n//   return { progress, error, url };\n// };\n// export default useStorage;\n// import React from 'react'\n// const useStorage = (file) => {\n//   const [progress, setProgress] = useState(0);\n//   const [error, setError] = useState(null);\n//   const [url, setUrl] = useState(null);\n//   useEffect(() => {\n//     const storageRef = projectStorage.ref().child(file.name).put(file);\n//     const collectionRef = projectFirestore.collection('images')\n//     storageRef.on('state_change', function(snapshot) {\n//       var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n//       console.log('Upload is ' + progress + '% done');\n//     }, (error) => {\n//         setError(error);\n//     }, () => {\n//       const url = storageRef.snapshot.ref.getDownloadURL().then(function(downloadURL) {\n//       console.log('File available at', downloadURL);\n//       });\n//       collectionRef.add({url: url, createdAt: timestamp});\n//       setUrl(url);\n//     }\n//     )\n//   })\n//   return (\n//     <div>\n//     </div>\n//   )\n// }\n// export default useStorage","map":{"version":3,"sources":["/home/richard/coding/react/insztegrem/src/hooks/useStorage.js"],"names":["useState","useEffect","projectStorage","projectFirestore","timestamp"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,cAAT,EAAyBC,gBAAzB,EAA2CC,SAA3C,QAA4D,oBAA5D,C,CAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { projectStorage, projectFirestore, timestamp } from \"../firebase/config\";\n\n// const useStorage = (file) => {\n//   const [progress, setProgress] = useState(0);\n//   const [error, setError] = useState(null);\n//   const [url, setUrl] = useState(null);\n\n//   useEffect(() => {\n//     const storageRef = projectStorage.ref(file.name);\n//     const collectionRef = projectFirestore.collection('images')\n\n//     storageRef.put(file).on(\"state_changed\",(snap) => {\n//       let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n//       setProgress(percentage);\n//       }, (error) => {\n//         setError(error);\n//       }, async () => {\n//         const url = await storageRef.getDownloadURL();\n//         collectionRef.add({url: url, createdAt: timestamp});\n//         setUrl(url);\n//       }\n//       // }, () => {\n//       //   // Upload completed successfully, now we can get the download URL\n//       //    const url = storageRef.getDownloadURL().then(function(downloadURL) {\n//       //     console.log('File available at', downloadURL);\n//       //     setUrl(url);\n//       //   });\n//       // }\n//     );\n//   }, [file]);\n//   return { progress, error, url };\n// };\n\n// export default useStorage;\n\n// import React from 'react'\n\n// const useStorage = (file) => {\n//   const [progress, setProgress] = useState(0);\n//   const [error, setError] = useState(null);\n//   const [url, setUrl] = useState(null);\n\n//   useEffect(() => {\n//     const storageRef = projectStorage.ref().child(file.name).put(file);\n//     const collectionRef = projectFirestore.collection('images')\n    \n//     storageRef.on('state_change', function(snapshot) {\n//       var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n//       console.log('Upload is ' + progress + '% done');\n//     }, (error) => {\n//         setError(error);\n//     }, () => {\n//       const url = storageRef.snapshot.ref.getDownloadURL().then(function(downloadURL) {\n//       console.log('File available at', downloadURL);\n//       });\n//       collectionRef.add({url: url, createdAt: timestamp});\n//       setUrl(url);\n//     }\n//     )\n//   })\n\n//   return (\n//     <div>\n      \n//     </div>\n//   )\n// }\n\n// export default useStorage\n"]},"metadata":{},"sourceType":"module"}